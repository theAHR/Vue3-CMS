<template>
  <div class="contact-page">
    <section class="contact-methods">
      <div class="container">
        <div class="section-header title-center">
          <div class="title-group">
            <div class="title-header">
              <div class="title-icon-left"></div>
              <h2>ارتباط پیوسته با ما، در هر ساعت از شبانه‌روز</h2>
              <div class="title-icon-right"></div>
            </div>
            <p>تیم ما به شکل ۲۴ ساعته در ۷ روز هفته، پاسخ‌گوی نیازها و پرسش‌های مشتریان و مخاطبان خود است. شما می‌توانید درخواست‌ها، گزارش‌ها و پیام‌هایتان را از طریق راه‌های ارتباطی درج شده در این صفحه، به دست ما برسانید.</p>
          </div>
        </div>
        
        <div class="methods-grid">
          <div class="method-card">
            <div class="method-icon">
              <svg width="51" height="51" viewBox="0 0 51 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M25.5 0C11.4079 0 0 6.33333 0 20.3333V47C0 49.2005 1.81131 51 4.02632 51H12.0789C14.294 51 16.1053 49.2005 16.1053 47V33.6667C16.1053 31.4661 14.294 29.6667 12.0789 29.6667H4.02632C3.5571 29.6667 3.08792 29.7344 2.68421 29.8672V20.3332C2.68421 7.86719 12.952 3 25.5 3C38.048 3 48.3158 7.86719 48.3158 20.3332V29.8672C47.9121 29.7344 47.4429 29.6667 46.9737 29.6667H38.9211C36.706 29.6667 34.8947 31.4661 34.8947 33.6667V47C34.8947 49.2005 36.706 51 38.9211 51H46.9737C49.1887 51 51 49.2005 51 47V20.3333C51 6.33333 39.5921 0 25.5 0ZM4.02632 32.3333H12.0789C12.8182 32.3333 13.4211 32.9323 13.4211 33.6667V47C13.4211 47.7344 12.8182 48.3333 12.0789 48.3333H4.02632C3.28708 48.3333 2.68421 47.7344 2.68421 47V33.6667C2.68421 32.9323 3.28711 32.3333 4.02632 32.3333ZM48.3158 47C48.3158 47.7344 47.7129 48.3333 46.9737 48.3333H38.9211C38.1818 48.3333 37.5789 47.7344 37.5789 47V33.6667C37.5789 32.9323 38.1818 32.3333 38.9211 32.3333H46.9737C47.7129 32.3333 48.3158 32.9323 48.3158 33.6667V47Z" fill="#514A9B"/>
              </svg>
            </div>
            <h3 class="method-title">گفت گو با کارشناسان</h3>
            <p class="method-description">گفت و گوی آنلاین با کارشناسان مرکز تماس از راه چت</p>
            <a href="#" class="method-link">
              ارسال پیام ←
            </a>
          </div>
          
          <div class="method-card">
            <div class="method-icon">
              <svg width="48" height="43" viewBox="0 0 48 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M40 0H8C3.59064 0 0 3.57402 0 7.96296V35.037C0 39.426 3.59064 43 8 43H40C44.4094 43 48 39.426 48 35.037V7.96296C48 3.57402 44.4094 0 40 0ZM44.8 35.037C44.8 37.6717 42.6469 39.8148 40 39.8148H8C5.35312 39.8148 3.2 37.6717 3.2 35.037V14.1247L17.2624 24.1254C19.2374 25.5344 21.5655 26.2748 23.9999 26.2748C26.4312 26.2748 28.7593 25.5344 30.7374 24.1254L44.7998 14.1247L44.8 35.037ZM44.8 10.2149L28.872 21.5374C27.4814 22.5235 25.7533 23.0678 24.0002 23.0678C22.247 23.0678 20.5189 22.5266 19.1283 21.5374L3.20032 10.2149V7.96288C3.20032 5.32826 5.35344 3.18511 8.00032 3.18511H40.0003C42.6472 3.18511 44.8003 5.32826 44.8003 7.96288L44.8 10.2149Z" fill="#514A9B"/>
              </svg>
            </div>
            <h3 class="method-title">ارسال پیام</h3>
            <p class="method-description">دریافت پیام های مکتوب شما از طریق ایمیل</p>
            <div class="method-value">Info@Sadadtsp.Ir</div>
            <a href="mailto:info@sadadtsp.ir" class="method-link email-link">
              ارسال ایمیل ←
            </a>
          </div>
          
          <div class="method-card">
            <div class="method-icon">
              <svg width="51" height="51" viewBox="0 0 51 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.99002 34.8854C14.211 41.2208 20.5392 46.0075 27.8027 49.1084C30.452 50.24 32.9435 50.8301 35.4305 50.9297C35.5786 50.9297 35.7219 50.9369 35.8652 50.9369C38.1721 50.9369 40.0929 50.2084 41.5718 48.7684C42.8151 47.5567 44.0463 46.3012 45.2265 45.087L45.3819 44.9243C46.2658 44.0161 46.7879 42.984 46.9288 41.8476C47.14 40.2181 46.5864 38.7199 45.2824 37.4085C43.9322 36.0462 42.5723 34.6912 41.21 33.3434C41.0352 33.1686 40.8676 32.9962 40.6952 32.8213C40.1731 32.2871 39.6316 31.7407 39.0172 31.2308C37.0405 29.5892 34.4616 29.6086 32.4581 31.2745C32.1594 31.5222 31.8923 31.7893 31.6616 32.02L31.5815 32.1001C30.6854 32.9962 29.7918 33.8971 28.8957 34.7907C28.8204 34.7543 28.7524 34.7154 28.6772 34.679C28.0482 34.356 27.4532 34.0501 26.9044 33.7028C23.9321 31.8014 21.1735 29.2201 18.4685 25.8202C17.4486 24.5404 16.6667 23.3092 16.0887 22.0708L16.7225 21.4419C17.5749 20.6016 18.4515 19.7323 19.3014 18.8556C21.4845 16.5997 21.4845 13.6905 19.3014 11.4517C17.7958 9.90479 16.2416 8.36276 14.7458 6.86935L13.4393 5.5702C12.7618 4.89272 11.9774 4.42647 11.1202 4.17874C9.8332 3.80477 7.90021 3.74892 6.01092 5.57747C5.5641 6.01215 5.12698 6.45414 4.68747 6.90093C4.02938 7.57114 3.40772 8.20741 2.74721 8.80234C0.862828 10.5119 -0.0818467 12.6561 0.00555872 15.0117C0.00555872 17.0442 0.32853 18.8849 1.03764 20.9733C2.6792 25.8227 5.27755 30.3616 8.98308 34.8612L8.99002 34.8854ZM4.84964 11.1262C5.57817 10.4681 6.25565 9.77114 6.91859 9.0985C7.33627 8.66868 7.75883 8.24614 8.18622 7.83088C8.77145 7.25778 9.26685 7.0975 9.69667 7.0975C9.90064 7.0975 10.0949 7.13393 10.2746 7.18978C10.6292 7.28935 10.9521 7.48847 11.2557 7.7993L12.5621 9.09845C14.0531 10.5846 15.5952 12.1145 17.0886 13.6419C18.0696 14.6545 18.0696 15.6866 17.0764 16.7186C16.2508 17.571 15.3863 18.4282 14.5534 19.2538L13.6962 20.1062C12.7151 21.0824 12.5767 21.8085 13.1425 23.0785C13.8443 24.6569 14.7962 26.194 16.0589 27.7774C18.9803 31.4515 21.989 34.2488 25.2527 36.3376C25.9229 36.7674 26.615 37.122 27.2804 37.4619C27.5669 37.6101 27.8534 37.7534 28.1327 37.9039C28.6427 38.1783 29.6504 38.477 30.7116 37.4061C31.7437 36.374 32.7684 35.3372 33.8005 34.3051L33.8879 34.2177C34.0919 34.0137 34.2862 33.8194 34.4732 33.664C35.0754 33.1662 36.0152 32.7509 37.0667 33.6203C37.5572 34.0234 38.0235 34.4969 38.514 34.9996C38.6937 35.1793 38.8734 35.3663 39.0555 35.546C40.4105 36.8889 41.7656 38.2366 43.1084 39.5941C43.8928 40.3833 43.934 40.9734 43.8782 41.4397C43.8151 41.8986 43.5917 42.3236 43.1885 42.7388L43.0331 42.9015C41.8578 44.1011 40.6533 45.3444 39.4343 46.5246C38.4653 47.4644 37.2391 47.8675 35.5732 47.8043C33.4727 47.7242 31.3333 47.207 29.0458 46.2308C22.2442 43.3265 16.3142 38.8386 11.4161 32.8893C7.95326 28.6859 5.53463 24.4652 4.01958 19.9824C3.4222 18.217 3.1551 16.675 3.1551 14.9848V14.9217C3.09196 13.4865 3.66991 12.1995 4.87679 11.1116L4.84964 11.1262Z" fill="#514A9B"/>
                <path d="M25.9795 0.011958C25.1271 -0.094893 24.3573 0.526767 24.2578 1.37911C24.1582 2.23146 24.7726 3.00127 25.6249 3.1008C36.6787 4.36352 46.2516 13.6448 47.8978 24.6793C48.0095 25.4491 48.6748 26.0027 49.4325 26.0027C49.5078 26.0027 49.5879 26.0027 49.6632 25.9833C50.5156 25.8594 51.0984 25.0629 50.9697 24.2179C49.0926 11.6293 38.585 1.44709 25.9721 0.00981305L25.9795 0.011958Z" fill="#514A9B"/>
                <path d="M38.7743 24.6988C38.8861 25.4686 39.5514 26.0222 40.3091 26.0222C40.3844 26.0222 40.4645 26.0222 40.5398 26.0028C41.3922 25.8789 41.975 25.0897 41.8463 24.2374C40.6515 16.2118 33.8642 9.66507 26.0573 9.01419C25.2001 8.93891 24.4546 9.58 24.3794 10.4323C24.3041 11.2895 24.9452 12.035 25.7975 12.1103C31.3244 12.5693 37.6892 17.4065 38.7771 24.6915L38.7743 24.6988Z" fill="#514A9B"/>
              </svg>
            </div>
            <h3 class="method-title">تماس تلفنی</h3>
            <p class="method-description">پاسخ گویی ۲۴ ساعته در ۷ روز هفته با مرکز تماس</p>
            <div class="method-value">۰۲۱-۹۱۰۹۲۰۰۵</div>
            <a href="tel:02191092005" class="method-link phone-link">
              تماس با پشتیبانی ←
            </a>
          </div>
        </div>
      </div>
    </section>

    <section class="contact-form-section">
      <div class="container">
        <div class="section-header">
          <div class="title-group">
            <div class="title-header">
              <img src="/src/assets/img/title-green.svg" alt="" class="title-icon" />
              <h2>با ما در ارتباط باشید...</h2>
            </div>
          </div>
        </div>
        <div class="form-content">
          <div class="form-illustration">
            <img src="/src/assets/img/illustration-6.svg" alt="تصویر تماس" />
          </div>
          <div class="form-wrapper">
            <form @submit.prevent="submitForm" class="contact-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="lastName">نام خانوادگی <span class="required">*</span></label>
                  <input 
                    id="lastName"
                    v-model="formData.lastName" 
                    type="text" 
                    required 
                    placeholder="وارد کنید ..."
                    :class="{ error: fieldErrors.lastName }"
                    @input="validateField('lastName', formData.lastName)"
                    @blur="validateField('lastName', formData.lastName)"
                  />
                  <div v-if="fieldErrors.lastName" class="field-error">{{ fieldErrors.lastName }}</div>
                </div>
                <div class="form-group">
                  <label for="firstName">نام <span class="required">*</span></label>
                  <input 
                    id="firstName"
                    v-model="formData.firstName" 
                    type="text" 
                    required 
                    placeholder="وارد کنید ..."
                    :class="{ error: fieldErrors.firstName }"
                    @input="validateField('firstName', formData.firstName)"
                    @blur="validateField('firstName', formData.firstName)"
                  />
                  <div v-if="fieldErrors.firstName" class="field-error">{{ fieldErrors.firstName }}</div>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="email">آدرس ایمیل</label>
                  <input 
                    id="email"
                    v-model="formData.email" 
                    type="email" 
                    placeholder="وارد کنید ..."
                    :class="{ error: fieldErrors.email }"
                    @input="validateField('email', formData.email)"
                    @blur="validateField('email', formData.email)"
                  />
                  <div v-if="fieldErrors.email" class="field-error">{{ fieldErrors.email }}</div>
                </div>
                <div class="form-group">
                  <label for="phone">شماره موبایل <span class="required">*</span></label>
                  <input 
                    id="phone"
                    v-model="formData.phone" 
                    type="tel" 
                    required 
                    placeholder="وارد کنید ..."
                    :class="{ error: fieldErrors.phone }"
                    @input="validateField('phone', formData.phone)"
                    @blur="validateField('phone', formData.phone)"
                  />
                  <div v-if="fieldErrors.phone" class="field-error">{{ fieldErrors.phone }}</div>
                </div>
              </div>
              <div class="form-group full-width">
                <label for="message">توضیحات <span class="required">*</span></label>
                <textarea 
                  id="message"
                  v-model="formData.message" 
                  rows="4" 
                  required 
                  placeholder="وارد کنید ..."
                  :class="{ error: fieldErrors.message }"
                  @input="validateField('message', formData.message)"
                  @blur="validateField('message', formData.message)"
                ></textarea>
                <div v-if="fieldErrors.message" class="field-error">{{ fieldErrors.message }}</div>
              </div>
              <button type="submit" :disabled="isSubmitting" class="submit-btn">
                <span v-if="!isSubmitting">ثبت درخواست</span>
                <div v-else class="spinner"></div>
              </button>
            </form>
            <div v-if="submitStatus" :class="['status-message', submitStatus.type]">
              {{ submitStatus.message }}
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="location-section">
      <div class="container">
        <div class="section-header">
          <div class="title-group">
            <div class="title-header">
              <img src="/src/assets/img/title-green.svg" alt="" class="title-icon" />
              <h2>موقعیت دفتر مرکزی</h2>
            </div>
          </div>
        </div>
        <div class="location-card">
          <div class="location-content">
            <div class="location-info">
              <div class="info-list">
                <div class="info-item">
                  <div class="info-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="#514A9B"/>
                      <path d="M10 4c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" fill="#514A9B"/>
                    </svg>
                  </div>
                  <div class="info-text">
                    <strong>آدرس:</strong>
                    <p>خیابان احمد قصیر (بخارست)، نبش کوچه نهم، تهران</p>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="#514A9B"/>
                      <path d="M10 4c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" fill="#514A9B"/>
                    </svg>
                  </div>
                  <div class="info-text">
                    <strong>ساعات کاری:</strong>
                    <p>شنبه تا چهارشنبه: ۸:۰۰ تا ۱۷:۰۰</p>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="#514A9B"/>
                      <path d="M10 4c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" fill="#514A9B"/>
                    </svg>
                  </div>
                  <div class="info-text">
                    <strong>پشتیبانی:</strong>
                    <p>۲۴ ساعته در ۷ روز هفته</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="location-map">
              <div class="map-container">
                <img src="/src/assets/img/map-location.jpg" alt="نقشه موقعیت" />
                <div class="map-overlay">
                  <div class="map-actions">
                    <button class="map-btn primary" @click="openInMaps">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z" fill="currentColor"/>
                      </svg>
                      مسیریابی
                    </button>
                    <button class="map-btn secondary" @click="copyAddress">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 2C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8C9.1 14 10 13.1 10 12V4C10 2.9 9.1 2 8 2H4ZM4 4H8V12H4V4Z" fill="currentColor"/>
                        <path d="M12 6H14C15.1 6 16 6.9 16 8V16C16 17.1 15.1 18 14 18H10C8.9 18 8 17.1 8 16V8C8 6.9 8.9 6 10 6H12ZM12 8H10V16H14V8H12Z" fill="currentColor"/>
                      </svg>
                      کپی آدرس
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref, reactive, computed } from 'vue'
import axios from '../plugins/axios'
import { baseURL } from '@/config/api'

const formData = reactive({
  firstName: '',
  lastName: '',
  phone: '',
  email: '',
  message: ''
})

const isSubmitting = ref(false)
const submitStatus = ref(null)
const fieldErrors = reactive({
  firstName: '',
  lastName: '',
  phone: '',
  email: '',
  message: ''
})

const validatePhone = (phone) => {
  if (!phone) return ''
  if (!/^09\d{9}$/.test(phone)) {
    return 'فرمت وارد شده صحیح نیست'
  }
  return ''
}

const validateEmail = (email) => {
  if (!email) return ''
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
  if (!emailRegex.test(email)) {
    return 'فرمت وارد شده صحیح نیست'
  }
  return ''
}

const validateField = (fieldName, value) => {
  switch (fieldName) {
    case 'phone':
      fieldErrors.phone = validatePhone(value)
      break
    case 'email':
      fieldErrors.email = validateEmail(value)
      break
    case 'firstName':
      fieldErrors.firstName = !value ? 'این فیلد الزامی است' : ''
      break
    case 'lastName':
      fieldErrors.lastName = !value ? 'این فیلد الزامی است' : ''
      break
    case 'message':
      if (!value) {
        fieldErrors.message = 'این فیلد الزامی است'
      } else if (value.length < 10) {
        fieldErrors.message = 'توضیحات حداقل باید شامل ۱۰ کاراکتر باشد'
      } else {
        fieldErrors.message = ''
      }
      break
  }
}

function openInMaps() {
  window.open('https://maps.app.goo.gl/fNA7PADoH5SyBqET9', '_blank')
}

function copyAddress() {
  const address = 'خیابان احمد قصیر (بخارست)، نبش کوچه نهم، تهران'
  navigator.clipboard.writeText(address).then(() => {
    alert('آدرس کپی شد')
  }).catch(() => {
    alert('خطا در کپی کردن آدرس')
  })
}

async function submitForm() {
  if (isSubmitting.value) return

  validateField('firstName', formData.firstName)
  validateField('lastName', formData.lastName)
  validateField('phone', formData.phone)
  validateField('email', formData.email)
  validateField('message', formData.message)

  const hasErrors = Object.values(fieldErrors).some(error => error !== '')
  if (hasErrors) {
    submitStatus.value = {
      type: 'error',
      message: 'لطفا خطاهای فرم را برطرف کنید'
    }
    return
  }
  
  isSubmitting.value = true
  submitStatus.value = null
  
  try {
    const response = await axios.post(`${baseURL}/api/v1/contact-requests`, {
      name: formData.firstName,
      lastName: formData.lastName,
      mobileNo: formData.phone,
      email: formData.email,
      description: formData.message
    })
    
    // Check if the response indicates success
    if (response.status >= 200 && response.status < 300) {
      submitStatus.value = {
        type: 'success',
        message: 'پیام شما با موفقیت ارسال شد. به زودی با شما تماس خواهیم گرفت.'
      }
      
      // Reset form data
      Object.keys(formData).forEach(key => {
        formData[key] = ''
      })
      
      // Clear field errors
      Object.keys(fieldErrors).forEach(key => {
        fieldErrors[key] = ''
      })
    } else {
      throw new Error('API returned non-success status')
    }
    
  } catch (error) {
    console.error('Error submitting contact form:', error)
    
    // Check if it's a network error or API error
    let errorMessage = 'خطا در ارسال پیام. لطفا دوباره تلاش کنید.'
    
    if (error.response) {
      // The request was made and the server responded with a status code
      // that falls out of the range of 2xx
      console.error('Response error:', error.response.data)
      if (error.response.data && error.response.data.message) {
        errorMessage = error.response.data.message
      }
    } else if (error.request) {
      // The request was made but no response was received
      errorMessage = 'خطا در اتصال به سرور. لطفا اتصال اینترنت خود را بررسی کنید.'
    }
    
    submitStatus.value = {
      type: 'error',
      message: errorMessage
    }
  } finally {
    isSubmitting.value = false
  }
}
</script>

<style scoped>
@import '../components/home/section-header.css';

.section-header .title-group .title-header .title-icon {
  width: 70px;
  height: 70px;
  flex-shrink: 0;
  object-fit: contain;
}

:root {
  --main-font: 'YekanRegular', Arial, sans-serif;
  --main-accent: #514a9b;
  --main-bg: #ffffff;
  --card-bg: #ffffff;
  --section-bg: #fafafa;
  --border-radius: 8px;
  --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-hover: 0 4px 16px rgba(0, 0, 0, 0.12);
}

@font-face {
  font-family: 'YekanRegular';
  src: url('@/assets/fonts/woff/IRANYekanX-Regular.woff') format('woff');
  font-style: normal;
}

.contact-page {
  font-family: var(--main-font);
  background: var(--main-bg);
  padding: 40px 0;
  margin-bottom: 60px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box;
}

.contact-methods,
.contact-form-section,
.location-section {
  padding: 20px 0;
}

.section-header {
  text-align: center;
  margin-bottom: 40px;
}

.section-header h1 {
  font-size: 2rem;
  color: #333;
  margin-bottom: 8px;
  font-weight: 600;
}

.section-header p {
  color: #666;
  font-size: 1rem;
}

.contact-methods {
  position: relative;
  overflow: hidden;
}

.contact-decorative-elements {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.floating-circle {
  position: absolute;
  border-radius: 50%;
  opacity: 0.1;
  animation: float 6s ease-in-out infinite;
}

.floating-circle--1 {
  top: 10%;
  left: 10%;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #91c89c 0%, #deeee1 100%);
  animation-duration: 8s;
  animation-delay: 0s;
}

.floating-circle--2 {
  top: 20%;
  right: 15%;
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #514a9b 0%, #7473b6 100%);
  animation-duration: 10s;
  animation-delay: 2s;
}

.floating-circle--3 {
  bottom: 30%;
  left: 20%;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #a2c7a2 0%, #91c89c 100%);
  animation-duration: 7s;
  animation-delay: 1s;
}

.floating-pattern {
  position: absolute;
  opacity: 0.05;
  animation: float 12s ease-in-out infinite;
}

.floating-pattern--1 {
  top: 15%;
  right: 5%;
  width: 80px;
  height: 80px;
  background-image: url('/src/assets/img/pattern-circle.svg');
  background-repeat: no-repeat;
  background-size: contain;
  animation-duration: 15s;
  animation-delay: 0s;
}

.floating-pattern--2 {
  bottom: 20%;
  right: 10%;
  width: 60px;
  height: 60px;
  background-image: url('/src/assets/img/green_circle.svg');
  background-repeat: no-repeat;
  background-size: contain;
  animation-duration: 12s;
  animation-delay: 3s;
}

@keyframes float {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.1;
  }
  50% {
    transform: translateY(-20px) rotate(10deg);
    opacity: 0.2;
  }
  100% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.1;
  }
}

.methods-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 32px;
  position: relative;
  z-index: 2;
  width: 100%;
  box-sizing: border-box;
}

.method-card {
  background: var(--card-bg);
  border-radius: 10px;
  border: 1px solid #e8e8e8;
  padding: 32px 24px;
  text-align: center;
  box-shadow: var(--shadow);
  transition: box-shadow 0.2s ease;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 280px;
}

.method-card:hover {
  box-shadow: var(--shadow-hover);
}

.method-icon {
  margin-bottom: 20px;
}

.method-title {
  font-size: 1.1rem;
  color: #333;
  margin-bottom: 12px;
  font-weight: 700;
  line-height: 1.4;
}

.method-description {
  color: #666;
  line-height: 1.6;
  margin-bottom: 16px;
  font-size: 0.9rem;
  flex-grow: 1;
}

.method-value {
  color: #333;
  font-size: 0.95rem;
  margin-bottom: 16px;
  font-weight: 500;
}

.method-link {
  display: inline-block;
  color: #666;
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
  transition: color 0.2s ease;
  margin-top: auto;
}

.method-link:hover {
  color: var(--main-accent);
}

.email-link,
.phone-link {
  color: #4CAF50;
}

.email-link:hover,
.phone-link:hover {
  color: #388E3C;
}

/* Contact Form */
.form-content {
  display: flex;
  align-items: center;
  gap: 40px;
  margin-top: 40px;
  width: 100%;
  box-sizing: border-box;
}

.form-wrapper {
  flex: 1.2;
  max-width: 600px;
  background: var(--card-bg);
  border-radius: 12px;
  border: 1px solid #e8e8e8;
  padding: 32px;
  box-shadow: var(--shadow);
  width: 100%;
  box-sizing: border-box;
}



.form-row {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
}

.form-group {
  flex: 1;
}

.form-group.full-width {
  flex: none;
  width: 100%;
}

.form-group label {
  display: block;
  color: #333;
  margin-bottom: 8px;
  font-size: 0.95rem;
  font-weight: 500;
}

.required {
  color: #e74c3c;
  margin-right: 2px;
}

.form-group input,
.form-group textarea {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  font-size: 0.95rem;
  background: var(--main-bg);
  transition: border-color 0.2s;
  font-family: var(--main-font);
  box-sizing: border-box;
  text-align: right;
  direction: rtl;
}

.form-group input::placeholder,
.form-group textarea::placeholder {
  text-align: right;
  direction: rtl;
}

.form-group input:focus,
.form-group textarea:focus {
  outline: none;
  border-color: var(--main-accent);
}

.form-group textarea {
  resize: vertical;
  min-height: 100px;
}

.field-error {
  color: #e74c3c;
  font-size: 0.85rem;
  margin-top: 6px;
  display: flex;
  align-items: center;
  gap: 4px;
}

.field-error::before {
  content: "⚠";
  font-size: 0.9rem;
}

.form-group input.error,
.form-group textarea.error {
  border-color: #e74c3c;
  background-color: #fff5f5;
}

.submit-btn {
  width: 100%;
  margin-top: 24px;
  padding: 14px 20px;
  background: #463d8a;
  color: #fff;
  border-radius: 6px;
  cursor: pointer;
}

.submit-btn:hover:not(:disabled) {
  background: #463d8a;
}

.spinner {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top: 2px solid #fff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-left: 8px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.status-message {
  margin-top: 16px;
  padding: 12px;
  border-radius: 6px;
  text-align: center;
  font-size: 0.9rem;
}

.status-message.success {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.status-message.error {
  background: #ffebee;
  color: #c62828;
  border: 1px solid #ffcdd2;
}

.form-illustration {
  flex: 0.8;
  display: flex;
  justify-content: center;
  align-items: center;
}

.form-illustration img {
  max-width: 80%;
  height: auto;
}

/* Location Section */
.location-section {
  background: var(--section-bg);
  margin: 0;
  padding: 40px 0;
}

.location-card {
  background: var(--card-bg);
  border-radius: 16px;
  border: 1px solid #e8e8e8;
  padding: 40px;
  box-shadow: var(--shadow);
  margin: 0;
  max-width: 100%;
}

.location-content {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 60px;
  align-items: start;
  margin-top: 32px;
  width: 100%;
  box-sizing: border-box;
}

.location-info {
  max-width: 400px;
}

.card-header {
  display: flex;
  align-items: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid #f0f0f0;
}

.header-icon {
  margin-left: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(81, 74, 155, 0.1);
  border-radius: var(--border-radius);
}

.card-header h3 {
  font-size: 1.3rem;
  color: #333;
  margin: 0;
  font-weight: 600;
}

.info-list {
  margin-bottom: 24px;
}

.info-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 20px;
  padding: 12px;
  border-radius: var(--border-radius);
  transition: background-color 0.2s ease;
}

.info-item:hover {
  background: rgba(81, 74, 155, 0.05);
}

.info-icon {
  margin-left: 12px;
  margin-top: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: rgba(81, 74, 155, 0.1);
  border-radius: 6px;
  flex-shrink: 0;
}

.info-text strong {
  color: #333;
  display: block;
  margin-bottom: 4px;
  font-size: 0.9rem;
  font-weight: 600;
}

.info-text p {
  color: #666;
  margin: 0;
  line-height: 1.5;
  font-size: 0.9rem;
}

.location-map {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid #e8e8e8;
  box-shadow: var(--shadow);
  height: 300px;
}

.map-container {
  position: relative;
  height: 100%;
  overflow: hidden;
}

.map-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.map-container:hover img {
  transform: scale(1.05);
}

.map-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #fff;
  text-align: center;
  padding: 20px;
  box-sizing: border-box;
}

.map-info h4 {
  font-size: 1.8rem;
  margin-bottom: 8px;
  font-weight: 700;
}

.map-info p {
  font-size: 1rem;
  margin-bottom: 20px;
}

.map-actions {
  display: flex;
  gap: 20px;
}

.map-btn {
  flex: 1;
  padding: 12px 20px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-size: 0.95rem;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: all 0.2s ease;
  min-width: 140px;
}

.map-btn.primary {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.5);
}

.map-btn.primary:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.7);
}

.map-btn.secondary {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.5);
}

.map-btn.secondary:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.7);
}

.map-btn svg {
  width: 18px;
  height: 18px;
}

@media (max-width: 900px) {
  .methods-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }
  .form-content {
    flex-direction: column;
    gap: 40px;
  }
  .form-wrapper {
    max-width: 100%;
    width: 100%;
  }
  .form-illustration {
    flex: 1;
  }
  .form-illustration img {
    max-width: 60%;
  }
  .location-content {
    grid-template-columns: 1fr;
    gap: 40px;
  }
  .location-info {
    max-width: 100%;
  }
  .location-map {
    height: 250px;
  }
  .location-card {
    margin: 0;
  }
}

@media (max-width: 768px) {
  .contact-page {
    padding: 20px 0;
  }
  
  .container {
    padding: 0 16px;
  }
  
  .methods-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  .method-card {
    min-height: auto;
    padding: 24px 20px;
  }
  .section-header h1 {
    font-size: 1.6rem;
  }
  .form-row {
    flex-direction: column;
    gap: 0;
  }
  .form-wrapper {
    padding: 24px 20px;
    width: 100%;
    max-width: 100%;
  }
  .form-illustration img {
    max-width: 50%;
  }
  .location-card {
    padding: 24px 20px;
    margin: 0;
  }
  .location-map {
    height: 200px;
  }
  .location-section {
    margin: 0;
    padding: 20px 0;
  }
}

@media (max-width: 480px) {
  .contact-page {
    padding: 20px 0;
  }
  
  .container {
    padding: 0 12px;
  }
  
  .contact-methods,
  .contact-form-section,
  .location-section {
    padding: 20px 0;
    margin: 0;
  }
  .location-card {
    padding: 20px 16px;
    margin: 0;
  }
  .location-map {
    height: 200px;
  }
  .section-header h1 {
    font-size: 1.4rem;
  }
  .form-wrapper {
    padding: 20px 16px;
  }
}
</style>